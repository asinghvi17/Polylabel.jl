import{_ as e,c as i,o as l,a7 as a}from"./chunks/framework.DcNyQqWy.js";const g=JSON.parse('{"title":"Polylabel","description":"","frontmatter":{},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":null}'),s={name:"index.md"},o=a(`<h1 id="Polylabel" tabindex="-1">Polylabel <a class="header-anchor" href="#Polylabel" aria-label="Permalink to &quot;Polylabel {#Polylabel}&quot;">​</a></h1><img src="https://user-images.githubusercontent.com/32143268/214836992-7ff8b5d6-1a15-4655-a13d-bb12c04b4ce1.png" alt="Gujarat"><p>This package implements an algorithm to find the <em>pole of inaccessibility</em> of a polygon, the most distant internal point from the polygon outline. This algorithm was originally written (and taken from) <a href="https://github.com/mapbox/polylabel" target="_blank" rel="noreferrer">mapbox/polylabel</a> - you can find a lot more information there! To summarize, the algorithm is basically a quad-tree search across the polygon which finds the point which is most distant from any edge.</p><p>In the plot above, this point is shown in orange, while the input polygon (multipolygon in this case) is shown in blue.</p><p>The package is built on top of <code>GeoInterface.jl</code> and <code>GeometryOps.jl</code>, and works with any polygon or multipolygon object which implements the GeoInterface <code>geointerface_geomtype</code> API for reverse conversion.</p><p>The main entry point is the <code>polylabel(input; atol = nothing, rtol = 0.01)</code> function. It returns a 2-Tuple of floats, representing the x and y coordinates of the found pole of inaccessibility.</p><ul><li><a href="#Polylabel.Polylabel"><code>Polylabel.Polylabel</code></a></li><li><a href="#Polylabel.Cell"><code>Polylabel.Cell</code></a></li><li><a href="#Polylabel._signed_distance-Tuple{Any, Any, Any}"><code>Polylabel._signed_distance</code></a></li><li><a href="#Polylabel.polylabel-Tuple{Any}"><code>Polylabel.polylabel</code></a></li></ul><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Polylabel.Polylabel" href="#Polylabel.Polylabel">#</a> <b><u>Polylabel.Polylabel</u></b> — <i>Module</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Polylabel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">jl</span></span></code></pre></div><p>This package implements an algorithm to find the <em>pole of inaccessibility</em> of a polygon, the most distant internal point from the polygon outline.</p><p>This algorithm was originally written (and taken from) <a href="https://github.com/mapbox/polylabel" target="_blank" rel="noreferrer">mapbox/polylabel</a></p><ul><li>you can find a lot more information there!</li></ul><p>The package is built on top of the GeoInterface, and is built to work with <em>any</em> polygons or multipolygon object which implements the GeoInterface, specifically the functions <code>GeoInterface.contains</code>, <code>GeoInterface.distance</code>, and <code>GeoInterface.centroid</code>.</p><p>The main entry point is the <a href="/Polylabel.jl/previews/PR4/index#Polylabel.polylabel-Tuple{Any}"><code>polylabel(input; rtol, atol)</code></a> function. It returns a 2-Tuple of floats, representing the <code>x</code> and <code>y</code> coordinates of the pole of inaccessibility that was computed.</p><p><a href="https://github.com/asinghvi17/Polylabel.jl/blob/e98955029f085d986d679f375c63b0113cf5585f/src/Polylabel.jl#L1-L19" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Polylabel.Cell" href="#Polylabel.Cell">#</a> <b><u>Polylabel.Cell</u></b> — <i>Type</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x, y, half_size, polygon)</span></span></code></pre></div><p>Comparison operators operate on the <code>max_distance</code> field.</p><p><a href="https://github.com/asinghvi17/Polylabel.jl/blob/e98955029f085d986d679f375c63b0113cf5585f/src/Polylabel.jl#L55-L59" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Polylabel._signed_distance-Tuple{Any, Any, Any}" href="#Polylabel._signed_distance-Tuple{Any, Any, Any}">#</a> <b><u>Polylabel._signed_distance</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_signed_distance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(geom, x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Real</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Real</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Float64</span></span></code></pre></div><p>Calculates the signed distance from the geometry <code>geom</code> to the point defined by <code>(x, y)</code>. Points within <code>geom</code> have a positive distance, and points outside of <code>geom</code> have a negative distance.</p><p>If <code>geom</code> is a MultiPolygon, then this function returns the maximum distance to any of the polygons in <code>geom</code>.</p><div class="warning custom-block"><p class="custom-block-title">Warning</p></div><p><a href="https://github.com/asinghvi17/Polylabel.jl/blob/e98955029f085d986d679f375c63b0113cf5585f/src/Polylabel.jl#L33-L44" target="_blank" rel="noreferrer">source</a></p></div><br><div style="border-width:1px;border-style:solid;border-color:black;padding:1em;border-radius:25px;"><a id="Polylabel.polylabel-Tuple{Any}" href="#Polylabel.polylabel-Tuple{Any}">#</a> <b><u>Polylabel.polylabel</u></b> — <i>Method</i>. <div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">polylabel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(polygon</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Polygon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; rtol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Real</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.01</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, atol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Nothing, Real}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Float64, Float64}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">polylabel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(multipoly</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MultiPolygon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; rtol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Real</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.01</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, atol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Nothing, Real}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Tuple{Float64, Float64}</span></span></code></pre></div><p><code>polylabel</code> finds the pole of inaccessibility of the given polygon or multipolygon, and returns its coordinates as a 2-Tuple of <code>(x, y)</code>. Tolerances can be specified.</p><p>Any geometry which expresses the <code>GeoInterface.jl</code> polygon or multipolygon traits can be passed to this method, so long as it implements the <code>GeoInterface</code> methods <code>extent</code>, <code>contains</code>, and <code>centroid</code>, in addition to the polygon <code>coordinates</code>, <code>getexterior</code>, and <code>gethole</code> interfaces.</p><p><code>rtol</code> is relative tolerance, <code>atol</code> is absolute tolerance (in the same vein as <code>Base.isapprox</code>). When <code>atol</code> is provided, it overrides <code>rtol</code>.</p><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>The performance of this function is still being actively improved; specifically the signed distance function needs some optimization. Until then, this will be much slower than the equivalent in Python/JS.</p></div><p><a href="https://github.com/asinghvi17/Polylabel.jl/blob/e98955029f085d986d679f375c63b0113cf5585f/src/Polylabel.jl#L124-L141" target="_blank" rel="noreferrer">source</a></p></div><br>`,15),t=[o];function n(p,h,d,r,c,y){return l(),i("div",null,t)}const b=e(s,[["render",n]]);export{g as __pageData,b as default};
